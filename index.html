<!DOCTYPE html>
<meta charset="utf-8">
<title>2019 台灣政府預算-階層式長條圖</title>
<link rel="stylesheet" type="text/css" href="./inspector.css">
<link rel="stylesheet" type="text/css" href="./styles.css">
<body>
  <main class="page">
    <div id="intro"></div>
    <div id="chart"></div>
    <div class="controls">
      <label for="label-font-size">機關名稱字體大小</label>
      <input type="range" id="label-font-size" min="10" max="20" value="12" step="1">
      <span id="label-font-size-value">12px</span>
    </div>
    <p class="unit-note">數值單位：M = 百萬，G = 十億</p>
  </main>

  <script type="module">
  
  import define from "./index.js";
  import {Runtime, Library, Inspector} from "./runtime.js";
  
  const runtime = new Runtime();
  const main = runtime.module(define, name => {
    if (name === "intro") return Inspector.into(document.querySelector("#intro"))();
    if (name === "chart") return Inspector.into(document.querySelector("#chart"))();
    return null;
  });

  const labelFontControl = document.getElementById("label-font-size");
  const labelFontValue = document.getElementById("label-font-size-value");

  const updateLabelFontSize = (size) => {
    const fontSize = `${size}px`;
    document.documentElement.style.setProperty("--label-font-size", fontSize);
    labelFontValue.textContent = fontSize;
  };

  updateLabelFontSize(labelFontControl.value);

  labelFontControl.addEventListener("input", (event) => {
    updateLabelFontSize(event.target.value);
  });

  </script>
